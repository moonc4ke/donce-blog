<div class="projects">
  <h1>PROJECTS</h1>

  <% if @error %>
    <div class="projects__error-message">
      <%= @error %>
    </div>
  <% end %>

  <% if @current_projects.present? %>
    <section class="projects__section">
      <h2>Current Focus</h2>
      <div class="projects__grid">
        <% @current_projects.each do |project| %>
          <a href="<%= project.html_url %>" class="project-card" target="_blank">
            <h3><%= project.name %></h3>
            <p><%= project.description %></p>
            <div class="project-meta">
              <span class="project-stats">
                <% if project.stargazers_count && project.stargazers_count > 0 %>
                  ‚≠ê
                  <%= project.stargazers_count %>
                <% else %>
                  No stars yet üå±
                <% end %>
              </span>
              <% if project.language.present? %>
                <span class="project-language">
                  <%= project.language %>
                </span>
              <% end %>
            </div>
          </a>
        <% end %>
      </div>
    </section>
  <% end %>

  <% if @completed_projects.present? %>
    <section class="projects__section">
      <h2>Completed Projects</h2>
      <div class="projects__grid">
        <% @completed_projects.each do |project| %>
          <a href="<%= project.html_url %>" class="project-card" target="_blank">
            <h3><%= project.name %></h3>
            <p><%= project.description %></p>
            <div class="project-meta">
              <span class="project-stats">
                <% if project.stargazers_count && project.stargazers_count > 0 %>
                  ‚≠ê
                  <%= project.stargazers_count %>
                <% else %>
                  No stars yet üå±
                <% end %>
              </span>
              <% if project.language.present? %>
                <span class="project-language">
                  <%= project.language %>
                </span>
              <% end %>
            </div>
          </a>
        <% end %>
      </div>
    </section>
  <% end %>

  <% if @config_projects.present? %>
    <section class="projects__section">
      <h2>Config</h2>
      <div class="projects__grid">
        <% @config_projects.each do |project| %>
          <a href="<%= project.html_url %>" class="project-card" target="_blank">
            <h3><%= project.name %></h3>
            <p><%= project.description %></p>
            <div class="project-meta">
              <span class="project-stats">
                <% if project.stargazers_count && project.stargazers_count > 0 %>
                  ‚≠ê
                  <%= project.stargazers_count %>
                <% else %>
                  No stars yet üå±
                <% end %>
              </span>
              <% if project.language.present? %>
                <span class="project-language">
                  <%= project.language %>
                </span>
              <% end %>
            </div>
          </a>
        <% end %>
      </div>
    </section>
  <% end %>

  <% if @self_hosted_projects.present? %>
    <section class="projects__section">
      <h2>Self-Hosted</h2>
      <div class="projects__grid">
        <% @self_hosted_projects.each do |project| %>
          <a href="<%= project.html_url %>" class="project-card" target="_blank">
            <h3><%= project.name %></h3>
            <p><%= project.description %></p>
            <div class="project-meta">
              <span class="project-stats">
                <% if project.stargazers_count && project.stargazers_count > 0 %>
                  ‚≠ê
                  <%= project.stargazers_count %>
                <% else %>
                  No stars yet üå±
                <% end %>
              </span>
              <% if project.language.present? %>
                <span class="project-language">
                  <%= project.language %>
                </span>
              <% end %>
            </div>
          </a>
        <% end %>
      </div>
    </section>
  <% end %>
</div>
